# v1.0.1 Release Plan

## Summary

**Release Type**: Patch (1.0.0 → 1.0.1)
**Focus**: Test suite optimization + documentation
**Impact**: Zero breaking changes, 24.7% faster tests
**Status**: Ready to execute

---

## Changes from v1.0.0

### Test Suite: 2,965 → 2,234 tests (-24.7%)
- **Removed**: 731 experimental tests (Trinity, DSPy, archived)
- **Runtime**: 296s → 223s (1.33x faster)
- **Lines**: 72,209 → 49,362 (-31.6%)
- **Safety**: Backup at `.test_bloat_backup_20251003_230743/`

### Documentation: +26 files
- **Phase 2A**: Test bloat analysis (7 files)
- **Phase 2B**: Vital functions catalog (8 files)
- **Quick Refs**: Token-optimized guides (5 files)
- **Archives**: 67 old reports moved to `.archive/`

### Performance
- **Tests**: 1.33x faster execution
- **Context**: 14x token reduction (140k → 10k)
- **Quality**: 100% pass rate maintained

---

## Release Notes Draft

See: `RELEASE_NOTES_v1.0.1.md` (full version)

**Key highlights**:
1. 731 experimental tests removed (safe deletion with backup)
2. 105 vital functions cataloged (59 CRITICAL, 46 ESSENTIAL)
3. 13 critical coverage gaps identified (3-week fix roadmap)
4. 13 strategic testing documents added
5. Zero production code changes

---

## Release Workflow

### 1. Merge PR #18 → main
```bash
gh pr merge 18 --squash --delete-branch
```

### 2. Validate Tests (CRITICAL)
```bash
git checkout main && git pull
python run_tests.py --run-all
# Expected: 2,234 tests passing (100%)
```

### 3. Create Tag
```bash
git tag -a v1.0.1 -m "v1.0.1 - Mars-Ready Test Strategy

Test suite optimization: -731 tests (24.7% faster)
Vital functions catalog: 105 functions identified
Documentation: 13 strategic testing documents
Zero production changes, non-breaking patch release"

git push origin v1.0.1
```

### 4. Publish Release
```bash
gh release create v1.0.1 \
  --title "v1.0.1 - Mars-Ready Test Strategy" \
  --notes-file RELEASE_NOTES_v1.0.1.md \
  --latest
```

### 5. Update Snapshot
```bash
# Update .snapshots/snap-latest.md
git add .snapshots/snap-latest.md
git commit -m "docs: Update snapshot for v1.0.1"
git push origin main
```

**Total Time**: ~10-15 minutes

---

## Validation Checklist

### Pre-Merge
- [ ] PR #18 passes all CI checks
- [ ] No merge conflicts with main
- [ ] Constitutional compliance verified (Articles I-V)

### Post-Merge
- [ ] PR #18 merged successfully
- [ ] Full test suite passes: `python run_tests.py --run-all`
- [ ] Result: 2,234 tests @ 100% success rate
- [ ] Runtime: ~223 seconds

### Post-Release
- [ ] Git tag v1.0.1 created and pushed
- [ ] GitHub release published
- [ ] Release notes complete
- [ ] Snapshot updated

---

## Risks & Mitigation

### Risk: Test Failures After Merge
- **Probability**: LOW
- **Impact**: HIGH (blocks release)
- **Mitigation**:
  - Backup exists: `.test_bloat_backup_20251003_230743/`
  - Git history preserved
  - Rollback: `git revert <merge-commit>` or `git checkout v1.0.0`

### Risk: Missing Critical Coverage
- **Probability**: MEDIUM (known issue)
- **Impact**: HIGH (production failures)
- **Mitigation**:
  - Already identified in Phase 2B
  - 3-week roadmap created
  - Week 1 addresses URGENT items (13 CRITICAL functions)

### Risk: Documentation Gaps
- **Probability**: LOW
- **Impact**: MEDIUM
- **Mitigation**:
  - 13 comprehensive docs delivered
  - Release notes include full context
  - Cross-referenced architecture

---

## Timeline

### Immediate (T+0 to T+15 min)
- **T+0**: Start release process
- **T+2**: Merge PR #18
- **T+5**: Validate test suite
- **T+10**: Create git tag
- **T+12**: Publish release
- **T+15**: Update snapshot

### Week 1 (Post-Release)
- Test 13 CRITICAL functions → 100% coverage
- Files: CLI (6), Learning (3), VectorStore (2), FileOps (2)

### Weeks 2-3 (Mars Rover Compliance)
- Week 2: Test 4 ESSENTIAL tools → 95% coverage
- Week 3: Mutation + chaos testing → 100% failure modes

---

## Quick Commands

### Merge & Validate
```bash
# 1. Merge
gh pr merge 18 --squash --delete-branch

# 2. Update local
git checkout main && git pull origin main

# 3. Test
python run_tests.py --run-all
```

### Tag & Release
```bash
# 4. Tag
git tag -a v1.0.1 -m "v1.0.1 - Mars-Ready Test Strategy"
git push origin v1.0.1

# 5. Release
gh release create v1.0.1 \
  --title "v1.0.1 - Mars-Ready Test Strategy" \
  --notes-file RELEASE_NOTES_v1.0.1.md \
  --latest
```

### Rollback (if needed)
```bash
# Revert merge
git revert <merge-commit-hash> --no-edit
git push origin main

# Delete tag
git tag -d v1.0.1
git push origin :refs/tags/v1.0.1
gh release delete v1.0.1 --yes

# Restore tests
cp -r .test_bloat_backup_20251003_230743/* tests/
```

---

## Success Criteria

### Release Success
✅ Tag v1.0.1 exists and pushed
✅ GitHub release published with full notes
✅ 2,234 tests passing @ 100% success
✅ Zero production functionality affected
✅ All 26 documentation files accessible

### Quality Success
✅ Constitutional compliance (Articles I-V validated)
✅ Backup created (rollback possible)
✅ Performance improved (1.33x faster)
✅ Coverage roadmap documented (3-week plan)

---

## Files Generated

### Release Documents (2 files)
1. **`RELEASE_NOTES_v1.0.1.md`** - GitHub release notes (full version)
2. **`specs/v1.0.1-release-plan.md`** - Comprehensive release plan (internal)

### Key Documentation (from PR #18)
1. **`docs/testing/PHASE_2A_EXECUTIVE_SUMMARY.md`** - Bloat removal decision doc
2. **`docs/testing/PHASE_2B_VITAL_FUNCTIONS_CATALOG.md`** - Coverage catalog
3. **`docs/testing/CRITICAL_GAPS_ACTION_PLAN.md`** - 3-week roadmap
4. **`.claude/quick-ref/`** - 5 token-optimized agent guides

---

## Next Action

**IMMEDIATE**: Review this plan, then execute:

```bash
# Step 1: Merge PR #18
gh pr merge 18 --squash --delete-branch

# Step 2: Validate (wait for 100% pass)
git checkout main && git pull
python run_tests.py --run-all

# Step 3: Tag & Release (if tests pass)
git tag -a v1.0.1 -m "v1.0.1 - Mars-Ready Test Strategy"
git push origin v1.0.1
gh release create v1.0.1 --title "v1.0.1 - Mars-Ready Test Strategy" --notes-file RELEASE_NOTES_v1.0.1.md --latest

# Step 4: Update snapshot
# (Manual edit: .snapshots/snap-latest.md)
git add .snapshots/snap-latest.md
git commit -m "docs: Update snapshot for v1.0.1"
git push origin main
```

**STATUS**: ✅ Plan complete, ready for execution

---

*Estimated total time: 10-15 minutes from start to published release*
